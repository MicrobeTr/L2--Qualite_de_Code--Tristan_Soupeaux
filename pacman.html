<!DOCTYPE html>
<html>
<head>
  <title>Simple Pac-Man</title>
  <style>
    body {
      margin: 0;
      background: black;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    canvas {
      background: black;
    }
  </style>
</head>
<body>

<canvas id="gameCanvas" width="500" height="500"></canvas>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let pacman = {
  x: 250,
  y: 250,
  radius: 20,
  speed: 3,
  dx: 0,
  dy: 0,
  mouthOpen: 0.2
};

let pellets = [];
const pelletCount = 30;

// Create pellets
for (let i = 0; i < pelletCount; i++) {
  pellets.push({
    x: Math.random() * 480 + 10,
    y: Math.random() * 480 + 10,
    radius: 5
  });
}

// Controls
document.addEventListener("keydown", (e) => {
  if (e.key === "ArrowRight") { pacman.dx = pacman.speed; pacman.dy = 0; }
  if (e.key === "ArrowLeft") { pacman.dx = -pacman.speed; pacman.dy = 0; }
  if (e.key === "ArrowUp") { pacman.dy = -pacman.speed; pacman.dx = 0; }
  if (e.key === "ArrowDown") { pacman.dy = pacman.speed; pacman.dx = 0; }
});

function drawPacman() {
  ctx.beginPath();
  ctx.fillStyle = "yellow";
  ctx.moveTo(pacman.x, pacman.y);
  ctx.arc(
    pacman.x,
    pacman.y,
    pacman.radius,
    pacman.mouthOpen * Math.PI,
    (2 - pacman.mouthOpen) * Math.PI
  );
  ctx.fill();
}

function drawPellets() {
  ctx.fillStyle = "white";
  pellets.forEach((pellet, index) => {
    ctx.beginPath();
    ctx.arc(pellet.x, pellet.y, pellet.radius, 0, Math.PI * 2);
    ctx.fill();

    // Collision
    const dist = Math.hypot(pacman.x - pellet.x, pacman.y - pellet.y);
    if (dist < pacman.radius) {
      pellets.splice(index, 1);
    }
  });
}

function update() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  pacman.x += pacman.dx;
  pacman.y += pacman.dy;

  // Wall boundaries
  if (pacman.x < pacman.radius) pacman.x = pacman.radius;
  if (pacman.x > canvas.width - pacman.radius) pacman.x = canvas.width - pacman.radius;
  if (pacman.y < pacman.radius) pacman.y = pacman.radius;
  if (pacman.y > canvas.height - pacman.radius) pacman.y = canvas.height - pacman.radius;

  drawPellets();
  drawPacman();

  requestAnimationFrame(update);
}

update();
</script>

</body>
</html>

